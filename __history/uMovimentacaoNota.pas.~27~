unit uMovimentacaoNota;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, uCadastroBase, Data.DB,
  FireDAC.Stan.Intf, FireDAC.Stan.Option, FireDAC.Stan.Param,
  FireDAC.Stan.Error, FireDAC.DatS, FireDAC.Phys.Intf, FireDAC.DApt.Intf,
  FireDAC.Stan.Async, FireDAC.DApt, FireDAC.Comp.DataSet, FireDAC.Comp.Client,
  Vcl.Grids, Vcl.DBGrids, Vcl.StdCtrls, Vcl.ExtCtrls, Vcl.ComCtrls, Vcl.DBCtrls,
  Vcl.Mask;

type
  TfrmMovimentacaoNota = class(TfrmCadBase)
    qrAlunos: TFDQuery;
    dsAlunos: TDataSource;
    dsDisciplinas: TDataSource;
    qrDisciplinas: TFDQuery;
    dsProfessores: TDataSource;
    qrProfessores: TFDQuery;
    qrDadosDISCIPLINA_ID: TIntegerField;
    qrDadosALUNO_ID: TIntegerField;
    qrDadosPROFESSOR_ID: TIntegerField;
    qrDadosNOTA_PERIODO_1: TSingleField;
    qrDadosNOTA_PERIODO_2: TSingleField;
    qrDadosNOTA_TRABLHO: TSingleField;
    qrDadosMEDIA: TSingleField;
    qrDadosSITUACAO: TStringField;
    qrDadosALUNO: TStringField;
    qrDadosPROFESSOR: TStringField;
    qrDadosDISCIPLINA: TStringField;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    Label4: TLabel;
    edPrimeiroPeriodo: TDBEdit;
    Label5: TLabel;
    edSegundoPeriodo: TDBEdit;
    Label6: TLabel;
    edTrabalho: TDBEdit;
    lkProfessor: TDBLookupComboBox;
    lkDisciplina: TDBLookupComboBox;
    lkAluno: TDBLookupComboBox;
    qrUpdate: TFDQuery;
    Label7: TLabel;
    dbeMedia: TDBEdit;
    Label8: TLabel;
    dbeSitucao: TDBEdit;
    procedure edPrimeiroPeriodoChange(Sender: TObject);
    procedure edSegundoPeriodoChange(Sender: TObject);
    procedure edTrabalhoChange(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmMovimentacaoNota: TfrmMovimentacaoNota;

implementation

{$R *.dfm}

uses udmPrincipal, uSystemutils;

procedure TfrmMovimentacaoNota.edPrimeiroPeriodoChange(Sender: TObject);
begin
  inherited;
  dbeMedia.Text := CalculaMedia(edPrimeiroPeriodo.Text,edSegundoPeriodo.text,edTrabalho.text);
end;
procedure TfrmMovimentacaoNota.edSegundoPeriodoChange(Sender: TObject);
begin
  inherited;
  dbeMedia.Text := CalculaMedia(edPrimeiroPeriodo.text,edSegundoPeriodo.text,edTrabalho.text);
end;

procedure TfrmMovimentacaoNota.edTrabalhoChange(Sender: TObject);
begin
  inherited;
  dbeMedia.Text := CalculaMedia(edPrimeiroPeriodo.text,edSegundoPeriodo.text,edTrabalho.text);
end;

end.
